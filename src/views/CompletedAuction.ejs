<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Auction Details</title>
    <link rel="stylesheet" href="/stylesheets/style.css" />
  </head>
  <body class="bg-gray-100">
    <%- include('partials/navbar') %>
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-10">
      <h1 class="text-4xl font-bold mb-6">Auction Details</h1>
      <div class="bg-white shadow-md rounded my-6">
        <div class="p-6">
          <h2 class="text-2xl font-bold mb-4"><%= auction.title %></h2>
          <p class="text-gray-600 mb-4">
            <span class="font-bold">ID:</span> <%= auction.id %>
          </p>
          <p class="text-gray-600 mb-4">
            <span class="font-bold">Start Date:</span> <%= auction.start %>
          </p>
          <p class="text-gray-600 mb-4">
            <span class="font-bold">End Date:</span> <%= auction.end %>
          </p>
          <p class="text-gray-600 mb-4">
            <span class="font-bold">Description:</span> <%= auction.description
            %>
          </p>
        </div>
      </div>
      <h1 class="text-4xl font-bold mb-6">Auction Offers</h1>
      <% if(auction.offers.length > 0){ %>
      <div class="bg-white shadow-md rounded my-10">
        <table class="min-w-full leading-normal">
          <thead>
            <tr>
              <th
                class="py-3 px-6 bg-gray-400 text-black font-medium uppercase tracking-wider"
              >
                ID
              </th>
              <th
                class="py-3 px-6 bg-gray-400 text-black font-medium uppercase tracking-wider"
              >
                Contractor
              </th>
              <th
                class="py-3 px-6 bg-gray-400 text-black font-medium uppercase tracking-wider"
              >
                Submission Date
              </th>
              <th
                class="py-3 px-6 bg-gray-400 text-black font-medium uppercase tracking-wider"
              >
                Cost
              </th>
            </tr>
          </thead>
          <tbody>
            <% auction.offers.forEach(function(offer, index) { %>
            <tr class="<%= index % 2 === 0 ? 'bg-white' : 'bg-gray-100' %>">
              <td class="py-4 px-6 whitespace-nowrap"><%= offer.id %></td>
              <td class="py-4 px-6 whitespace-nowrap"><%= offer.bidder %></td>
              <td class="py-4 px-6 whitespace-nowrap">
                <%= offer.submissionDate.toUTCString() %>
              </td>
              <td class="py-4 px-6 whitespace-nowrap"><%= offer.value %>$</td>
            </tr>
            <% }) %>
          </tbody>
        </table>
      </div>
      <% }else{ %>
      <h4 class="text-xl font-bold mb-6">Offers not found or too high</h4>
      <% } %>
    </div>
  </body>
</html>
